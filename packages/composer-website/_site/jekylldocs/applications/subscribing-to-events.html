<h1 id="subscribing-to-events">Subscribing to events</h1>

<p>Applications can subscribe to events from a business network by using the <code class="highlighter-rouge">composer-client.BusinessNetworkConnection.on</code> API call. Events are defined in the business network model file and are emitted by specified transactions in the transaction processor function file. For more information on publishing events, see <a href="../business-network/publishing-events.html">publishing events</a>.</p>

<h2 id="before-you-begin">Before you begin</h2>

<p>Before an application can subscribe to events, you must have defined some events and the transactions which will emit them. The business network must also be deployed and you must have connected to it. Follow the steps for <a href="../applications/getting-started-nodejs-app.html">connecting to the  runtime</a>.</p>

<h2 id="procedure">Procedure</h2>

<ol>
  <li>
    <p>An application must send a specific API call to subscribe to events emitted transactions in a business network. Currently, an application which subscribes to events will receive all events which are emitted. The API call should take the following format:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> ```Javascript
 businessNetworkConnection.on('event', (event) =&gt; {
     // event: { "$class": "org.namespace.BasicEvent", "eventId": "0000-0000-0000-000000#0" }
     console.log(event);
 });
 ```
</code></pre>
    </div>
  </li>
</ol>

<p>This includes an event called <code class="highlighter-rouge">BasicEvent</code> which was created in the <a href="../business-network/publishing-events.html">publishing events</a> documentation. The <code class="highlighter-rouge">eventId</code> property is always the same as the <code class="highlighter-rouge">transactionId</code> of the transaction which emitted the event, with an appended number in the form <code class="highlighter-rouge">"transactionId": "&lt;transactionId&gt;#number"</code>.</p>

<h2 id="what-next">What next?</h2>

<p>The application will now receive all of the events emitted by the business network, and itâ€™s up to the application to choose to what extent those events are integrated.</p>

<hr />
