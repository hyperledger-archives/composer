---
layout: default
title: Runtime participantregistry.js
section: api
sidebar: sidebars/accordion-toc0.md
excerpt: The Client, Admin, and Runtime components of Hyperledger Composer .
index-order: 1212
---

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [ParticipantRegistry](#participantregistry)
-   [module:composer-runtime.ParticipantRegistry#getAll](#modulecomposer-runtimeparticipantregistrygetall)
-   [module:composer-runtime.ParticipantRegistry#get](#modulecomposer-runtimeparticipantregistryget)
-   [module:composer-runtime.ParticipantRegistry#exists](#modulecomposer-runtimeparticipantregistryexists)
-   [module:composer-runtime.ParticipantRegistry#addAll](#modulecomposer-runtimeparticipantregistryaddall)
-   [module:composer-runtime.ParticipantRegistry#add](#modulecomposer-runtimeparticipantregistryadd)
-   [module:composer-runtime.ParticipantRegistry#updateAll](#modulecomposer-runtimeparticipantregistryupdateall)
-   [module:composer-runtime.ParticipantRegistry#update](#modulecomposer-runtimeparticipantregistryupdate)
-   [module:composer-runtime.ParticipantRegistry#removeAll](#modulecomposer-runtimeparticipantregistryremoveall)
-   [module:composer-runtime.ParticipantRegistry#remove](#modulecomposer-runtimeparticipantregistryremove)

## ParticipantRegistry

Do not attempt to create an instance of this class.<br>
You must use the [getParticipantRegistry](module:composer-runtime#getParticipantRegistry)
method instead.

## module:composer-runtime.ParticipantRegistry#getAll

Get a list of all of the existing participants in this participant registry.

**Examples**

```javascript
// Get the driver participant registry.
return getParticipantRegistry('org.acme.Driver')
  .then(function (participantRegistry) {
    // Get all of the drivers in the driver participant registry.
    return participantRegistry.getAll();
  })
  .then(function (drivers) {
    // Process the array of driver objects.
    drivers.forEach(function (driver) {
      console.log(driver.driverId);
    });
  })
  .catch(function (error) {
    // Add optional error handling here.
  });
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** A promise. The promise is resolved with an array of
[Resource](Resource) instances representing all of the participants stored in this
participant registry. If the participant registry does not exist, or the current
user does not have access to the participant registry, then the promise will
be rejected with an error that describes the problem.

## module:composer-runtime.ParticipantRegistry#get

Get the specified participant in this participant registry using the unique identifier
of the participant.

**Parameters**

-   `id` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the participant.

**Examples**

```javascript
// Get the driver participant registry.
return getParticipantRegistry('org.acme.Driver')
  .then(function (participantRegistry) {
    // Get the specific driver from the driver participant registry.
    return participantRegistry.get('VEHICLE_1');
  })
  .then(function (driver) {
    // Process the the driver object.
    console.log(driver.driverId);
  })
  .catch(function (error) {
    // Add optional error handling here.
  });
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** A promise. The promise is resolved with a [Resource](Resource)
instance representing the specified participant in this participant registry. If the
specified participant does not exist, or the current user does not have access
to the specified participant, then the promise will be rejected with an error
that describes the problem.

## module:composer-runtime.ParticipantRegistry#exists

Determines whether a specific participant exists in this participant registry.

**Parameters**

-   `id` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the participant.

**Examples**

```javascript
// Get the driver participant registry.
return getParticipantRegistry('org.acme.Driver')
  .then(function (participantRegistry) {
    // Determine if the specific driver exists in the driver participant registry.
    return participantRegistry.exists('VEHICLE_1');
  })
  .then(function (exists) {
    // Process the the boolean result.
    console.log('Driver exists', exists);
  })
  .catch(function (error) {
    // Add optional error handling here.
  });
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** A promise. The promise is resolved with a boolean which
is true if the specified participant exists in this participant registry,
and false if the specified participant does not exist.

## module:composer-runtime.ParticipantRegistry#addAll

Add all of the specified participants to this participant registry.

**Parameters**

-   `participants` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;Resource>** The participants to add to this participant registry.

**Examples**

```javascript
// Get the driver participant registry.
return getParticipantRegistry('org.acme.Driver')
  .then(function (participantRegistry) {
    // Get the factory for creating new participant instances.
    var factory = getFactory();
    // Create the first driver.
    var driver1 = factory.newResource('org.acme', 'Driver', 'VEHICLE_1');
    driver1.location = 'Southampton';
    // Create the second driver.
    var driver2 = factory.newResource('org.acme', 'Driver', 'VEHICLE_2');
    driver2.location = 'GREEN';
    // Add the drivers to the driver participant registry.
    return participantRegistry.addAll([driver1, driver2]);
  })
  .catch(function (error) {
    // Add optional error handling here.
  });
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** A promise. The promise is resolved when all of the
participants have been added to this participant registry. If the participants cannot be
added to this participant registry, or if the participants already exist in the
participant registry, then the promise will be rejected with an error
that describes the problem.

## module:composer-runtime.ParticipantRegistry#add

Add the specified participant to this participant registry.

**Parameters**

-   `participant` **Resource** The participants to add to this participant registry.

**Examples**

```javascript
// Get the driver participant registry.
return getParticipantRegistry('org.acme.Driver')
  .then(function (participantRegistry) {
    // Get the factory for creating new participant instances.
    var factory = getFactory();
    // Create the driver.
    var driver = factory.newResource('org.acme', 'Driver', 'VEHICLE_1');
    driver.location = 'Southampton';
    // Add the driver to the driver participant registry.
    return participantRegistry.add(driver);
  })
  .catch(function (error) {
    // Add optional error handling here.
  });
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** A promise. The promise is resolved when the participant has
been added to this participant registry. If the participant cannot be added to this
participant registry, or if the participant already exists in the participant registry,
then the promise will be rejected with an error that describes the problem.

## module:composer-runtime.ParticipantRegistry#updateAll

Update all of the specified participants in this participant registry.

**Parameters**

-   `participants` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;Resource>** The participants to update in this participant registry.

**Examples**

```javascript
// The existing drivers that have come from elsewhere.
var driver1;
var driver2;
// Get the driver participant registry.
return getParticipantRegistry('org.acme.Driver')
  .then(function (participantRegistry) {
    // Get the factory for creating new participant instances.
    var factory = getFactory();
    // Modify the properties of the first driver.
    driver1.location = 'Hursley';
    // Modify the properties of the second driver.
    driver2.location = 'London';
    // Update the drivers in the driver participant registry.
    return participantRegistry.updateAll([driver1, driver2]);
  })
  .catch(function (error) {
    // Add optional error handling here.
  });
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** A promise. The promise is resolved when all of the
participants have been updated in this participant registry. If the participants cannot be
updated in this participant registry, or if the participants do not exist in the
participant registry, then the promise will be rejected with an error that
describes the problem.

## module:composer-runtime.ParticipantRegistry#update

Update the specified participant in this participant registry.

**Parameters**

-   `participant` **Resource** The participant to update in this participant registry.

**Examples**

```javascript
// The existing driver that has come from elsewhere.
var driver;
// Get the driver participant registry.
return getParticipantRegistry('org.acme.Driver')
  .then(function (participantRegistry) {
    // Get the factory for creating new participant instances.
    var factory = getFactory();
    // Modify the properties of the driver.
    driver.location = 'Hursley';
    // Update the driver in the driver participant registry.
    return participantRegistry.update(driver);
  })
  .catch(function (error) {
    // Add optional error handling here.
  });
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** A promise. The promise is resolved when the participant
have been updated in this participant registry. If the participant cannot be
updated in this participant registry, or if the participant does not exist in the
participant registry, then the promise will be rejected with an error that
describes the problem.

## module:composer-runtime.ParticipantRegistry#removeAll

Remove all of the specified participants from this participant registry.

**Parameters**

-   `participants` **([Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)> | [Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;Resource>)** The participants, or the IDs of the participants,
    to remove from this participant registry.

**Examples**

```javascript
// The existing drivers that have come from elsewhere.
var driver1;
// Get the driver participant registry.
return getParticipantRegistry('org.acme.Driver')
  .then(function (participantRegistry) {
    // Get the factory for creating new participant instances.
    var factory = getFactory();
    // Remove the drivers from the driver participant registry. Note that
    // one driver is specified as a driver instance, and the other
    // driver is specified by the ID of the driver.
    return participantRegistry.removeAll([driver1, 'VEHICLE_2']);
  })
  .catch(function (error) {
    // Add optional error handling here.
  });
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** A promise. The promise is resolved when all of the
participants have been removed from this participant registry. If the participants cannot be
removed from this participant registry, or if the participants do not exist in the
participant registry, then the promise will be rejected with an error that
describes the problem.

## module:composer-runtime.ParticipantRegistry#remove

Remove the specified participant from this participant registry.

**Parameters**

-   `participant` **([string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String) | Resource)** The participant, or ID of the participant, to remove
    from this participant registry.

**Examples**

```javascript
// The existing driver that has come from elsewhere.
var driver;
// Get the driver participant registry.
return getParticipantRegistry('org.acme.Driver')
  .then(function (participantRegistry) {
    // Get the factory for creating new participant instances.
    var factory = getFactory();
    // Remove the driver from the driver participant registry.
    return participantRegistry.remove(driver);
  })
  .catch(function (error) {
    // Add optional error handling here.
  });
```

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)** A promise. The promise is resolved when the participant
has been removed from this participant registry. If the participant cannot be
removed from this participant registry, or if the participant does not exist in the
participant registry, then the promise will be rejected with an error that
describes the problem.
