<div class="transaction-modal">
  <div class="modal-header">
    <h1>Submit Transaction</h1>
    <button class="icon modal-exit" (click)="activeModal.dismiss()">X</button>
  </div>
  <section class="modal-body">
    <div class="transaction-select">
      <div class="transaction-select-item">
        <h2>Transaction Type</h2>
      </div>
      <div class="transaction-select-item">
        <div ngbDropdown class="d-inline-block">
          <button type="button" class="action" id="dropdownMenu1" ngbDropdownToggle>{{selectedTransactionName}}</button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
              <button class="dropdown-item action " *ngFor="let transaction of transactionTypes" (click)="onTransactionSelect(transaction)">{{transaction.getName()}}</button>
          </div>
        </div>
      </div>
    </div>
    <div>
      <h4 class="transaction-preview">JSON Data Preview</h4>
    </div>
    <div class="transaction-bound">
      <codemirror [(ngModel)]="resourceDefinition" [config]="codeConfig" (ngModelChange)="onDefinitionChanged()" width="100%" height="100%">
      </codemirror>
      <div class="transaction-error" ng-if="defitionError!=null">
        <h6>{{defitionError}}</h6>
      </div>
    </div>
  </section>
  <footer>
    <h2>Just need quick test data? <button class="action" type="button" (click)="generateResource()">Generate Random Data</button></h2>
    <button type="button" class="secondary" (click)="activeModal.dismiss();">
      <span>Cancel</span>
    </button>
    <button type="button" class="primary" (click)="submitTransaction()" [disabled]="defitionError!=null || submitInProgress">
      <div *ngIf="!submitInProgress">
        <span>Submit</span>
      </div>
      <div *ngIf="submitInProgress" class="ibm-spinner-indeterminate small loop">
        <div class="loader">
          <svg class="circular" viewBox="25 25 50 50">
            <circle class="circle-path" cx="50" cy="50" r="20"/>
          </svg>
        </div>
      </div>
    </button>
  </footer>
</div>
