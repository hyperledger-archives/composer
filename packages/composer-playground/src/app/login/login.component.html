<section *ngIf="!editingConectionProfile" class="header">
    My Wallet
</section>
<section *ngIf="!editingConectionProfile" class="main-view">
    <div class="connection-profile" *ngFor="let connectionProfile of connectionProfiles; let profileIndex = index">
        <h2>Identities for {{connectionProfile.name === '$default' ? 'Web Browser' : connectionProfile.name }}
            <div class="connection-profile-buttons">
                <button  *ngIf="connectionProfile.name !== '$default'" id="editConnectionProfileButton" type="button" class="action"
                        (click)="editConnectionProfile(connectionProfile)">
                    <svg class="ibm-icon vertical-top" aria-hidden="true">
                        <use xlink:href="#icon-edit_24"></use>
                    </svg>
                </button>
                <button id="deployButton" type="button" class="action">
                    <svg class="ibm-icon vertical-top" aria-hidden="true">
                        <use xlink:href="#icon-deploy_24"></use>
                    </svg>
                </button>
            </div>
        </h2>
        <div class="identities">
            <div class="identity" *ngFor="let identity of connectionProfile.identities">
                <div class="top-section">
                    <div class="userId-image">
                        <span>{{identity.userId.substring(0,2)}}</span>
                    </div>
                    <div class="userId">
                        {{identity.userId}}
                    </div>
                    <div class="action-buttons">
                        <button type="button" class="action">
                            <svg class="ibm-icon vertical-top" aria-hidden="true">
                                <use xlink:href="#icon-trash_32"></use>
                            </svg>
                        </button>
                        <button type="button" class="action">
                            <svg class="ibm-icon vertical-top" aria-hidden="true">
                                <use xlink:href="#icon-upload_32"></use>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="bottom-section">
                    <p class="business-network">BUSINESS NETWORK</p>
                    <p>{{identity.businessNetwork}}</p>
                    <div class="connect">
                        <button id="login-{{profileIndex}}-{{identity.userId}}" type="button" class="action"
                                (click)="changeIdentity(connectionProfile.name, identity.userId)">
                            <span>Connect now</span>
                            <svg class="ibm-icon vertical-top" aria-hidden="true">
                                <use xlink:href="#icon-forward_16"></use>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="edit-connection-profile" *ngIf="editingConectionProfile">
    <div class="header">
        <button type="button" class="action" (click)="finishedEditingConnectionProfile()">
            <svg class="ibm-icon vertical-top rotate" aria-hidden="true">
                <use xlink:href="#icon-forward_16"></use>
            </svg>
            <span>My Wallet</span>
        </button>
    </div>
    <connection-profile (profileUpdated)="finishedEditingConnectionProfile()"
                             [connectionProfile]="editingConectionProfile"></connection-profile>
</section>
