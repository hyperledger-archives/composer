<section class="identity-card">
    <header>
        <button *ngIf="preview" type="button" class="icon dismiss"
                (click)="dismiss()">
            <svg class="ibm-icon" aria-hidden="true">
                <use xlink:href="#icon-close_new"></use>
            </svg>
        </button>
    </header>
    <section class="user-details">
        <div class="image-placeholder">
            <span class="initials">{{getInitials()}}</span>
            <div class="role-icon" *ngIf="identity.getRoles().length > 0">
                <svg class="ibm-icon vertical-top">
                    <use xlink:href="#icon-tool"></use>
                </svg>
            </div>
        </div>
        <div class="user-name">{{identity.getName()}}</div>
        <span *ngFor="let role of identity.getRoles() last as lastRole">{{role}}{{lastRole ? '': ', '}}</span>
    </section>
    <section *ngIf="!preview" class="actions">
        <button *ngIf="!indestructible" type="button" class="action circular delete"
                (click)="delete()">
            <svg class="ibm-icon vertical-top" aria-hidden="true">
                <use xlink:href="#icon-trash_32"></use>
            </svg>
        </button>
        <button *ngIf="'web' !== identity.getConnectionProfile().type" type="button" class="action circular export"
                (click)="export()">
            <svg class="ibm-icon vertical-top" aria-hidden="true">
                <use xlink:href="#icon-download_32"></use>
            </svg>
        </button>
    </section>
    <section *ngIf="preview" class="connection-profile-details">
        <h3>Connection Profile</h3>
        <p>{{identity.getConnectionProfile().name}}</p>
    </section>
    <section class="business-network-details" *ngIf="identity.getBusinessNetworkName()">
        <h3>Business Network</h3>
        <p title="{{identity.getBusinessNetworkName()}}">{{identity.getBusinessNetworkName()}}</p>
    </section>
    <footer>
        <button *ngIf="!preview && identity.getBusinessNetworkName()" type="button" class="action connect"
                (click)="connect()">
            <span>Connect now</span>
            <svg class="ibm-icon" aria-hidden="true">
                <use xlink:href="#icon-forward_16"></use>
            </svg>
        </button>
    </footer>
</section>
