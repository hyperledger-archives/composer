<section class="edit-card-credentials">
    <h1>Create ID Card</h1>
  <section class="profiles">
    <div class="description upper"><b>Provide security credentials</b></div>
    <div class="holding-div">
        <div class="create-route">
            <p>You must provide one of two types of information to create an ID card:</p>
            <div class="file-types-list">
                <div class="file-types-list-item">
                    <input type="radio" id="noCert" name="file-type" [checked]="true"
                        (change)="useCertificates(false)">
                    <label class="radio-label" for="noCert"><h3>ID and Secret</h3></label>
                    <div class="description"><p>These can be created when accessing a business network.</p></div>
                </div>
                <div class="file-types-list-item">
                    <input type="radio" id="useCert" name="file-type"
                        (change)="useCertificates(true)">
                    <label class="radio-label" for="useCert" style="color:grey"><h3>Certificates</h3></label>
                    <div class="description" style="color:grey"><p>Required here are public and private certificate files.</p></div>
                </div>
            </div>
        </div>
        <div *ngIf="!useCerts" class="noCerts">
            <p>An Enrollment ID and Secret must be created by someone who already has access to the Business Network you are connecting to.</p>
            <form #idSecretForm="ngForm" (submit)="submitCard()" (keydown)="submitCard($event)">
                <div class="option">
                    <label for="userId"><h3>Enrollment ID</h3></label>
                    <input required type="text" [(ngModel)]="userId" id="userId" name="userId" autocomplete="off">
                </div>
                <div class="option">
                    <label for="userSecret"><h3>Enrollment Secret</h3></label>
                    <input required type="password" [(ngModel)]="userSecret" id="userSecret" name="userSecret" autocomplete="off">
                </div>
            </form>
        </div>
        <div *ngIf="useCerts" class="noCerts">
            <form #addIdentityForm="ngForm" id="add-identity-form" (ngSubmit)="addIdentityCard()">
                <div class="option key-field">
                    <label for="publicKey"><h3>Public Key</h3></label>
                    <textarea required name="addedPublicCertificate" id="publicKey" rows="6" placeholder="Paste your public certificate here..." [(ngModel)]="addedPublicCertificate"></textarea>
                </div>
                <div class="option key-field">
                    <label for="privateKey"><h3>Private Key</h3></label>
                    <textarea required name="addedPrivateCertificate" id="privateKey" rows="6" placeholder="Paste your private certificate here..." [(ngModel)]="addedPrivateCertificate"></textarea>
                </div>
                <div class="option">
                    <label for="name"><h3>Name this ID Card</h3></label>
                    <input required type="text" [(ngModel)]="userId" id="name" name="userId" autocomplete="off">
                </div>
            </form>
        </div>
    </div>
  </section>
  <section class="profiles">
    <div class="description upper"><b>business network name</b></div>
    <div class="holding-div">
        <div class="noCerts">
            <p>The name of the Business Network to which you are going to connect should be specified when using an Enrollment ID and Secret.</p>
            <form #busNetForm="ngForm" (submit)="submitCard()" (keydown)="submitCard($event)">
                <div class="option">
                    <label for="busNetName"><h3>Name of Business Network</h3></label>
                    <input required type="text" [(ngModel)]="busNetName" id="busNetName" name="busNetName" autocomplete="off">
                </div>
            </form>
        </div>
    </div>
  </section>
  <footer>
    <button type="button" class="secondary" (click)="close();">
      <span>Cancel</span>
    </button>
    <button type="button" class="primary" [disabled]="!validContents() ||  addInProgress" (click)="addIdentityCard();">
      <div *ngIf="!addInProgress">
        <span>Create</span>
      </div>
      <div *ngIf="addInProgress" class="ibm-spinner-indeterminate small loop">
        <div class="loader">
          <svg class="circular" viewBox="25 25 50 50">
            <circle class="circle-path" cx="50" cy="50" r="20"/>
          </svg>
        </div>
      </div>
    </button>
  </footer>
</section>


