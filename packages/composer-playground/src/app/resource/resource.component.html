<div class="resource-modal">
  <div class="modal-header">
    <h1>{{resourceAction}} {{resourceType}}</h1>
    <button class="icon modal-exit" (click)="activeModal.close()">X</button>
  </div>
  <section class="modal-body">
    <h2>In registry: <b>{{registryID}}</b></h2>
    <section>
      <div>
        <h4 class="resource-preview">JSON Data Preview</h4>
      </div>
      <div class="resource-bound">
        <codemirror [(ngModel)]="resourceDefinition" [config]="codeConfig" (ngModelChange)="onDefinitionChanged()" width="100%" height="100%">
        </codemirror>
        <div class="resource-error" ng-if="defitionError!=null">
          <h6>{{defitionError}}</h6>
        </div>
      </div>
    </section>
  </section>
  <footer>
    <h2 *ngIf="!editMode()">Just need quick test data? <button class="action" type="button" (click)="generateResource()">Generate Random Data</button></h2>
    <button type="button" class="secondary" (click)="activeModal.close();">
      <span>Cancel</span>
    </button>
    <button type="button" class="primary" (click)="addOrUpdateResource()" [disabled]="defitionError!=null || actionInProgress ">
      <div *ngIf="!actionInProgress">
        <span>{{resourceAction}}</span>
      </div>
      <div *ngIf="actionInProgress" class="ibm-spinner-indeterminate small loop">
        <div class="loader">
          <svg class="circular" viewBox="25 25 50 50">
            <circle class="circle-path" cx="50" cy="50" r="20"/>
          </svg>
        </div>
      </div>
    </button>
  </footer>
</div>
