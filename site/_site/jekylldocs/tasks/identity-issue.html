<h1 id="issuing-an-identity-to-a-participant">Issuing an identity to a participant</h1>

<p>An identity can be issued to a participant using either the API or the command line.
Once an identity has been issued, the identity can then be used by the participant
to interact with the business network in the context of that participant.</p>

<p>Fabric Composer issues identities as Hyperledger Fabric enrollment
certificates (ECerts). An enrollment secret is generated that should be given to
the participant, who can use the enrollment secret to download their enrollment
certificate.</p>

<h2 id="before-you-start">Before you start</h2>

<p>Before you follow these steps, you must have added a participant to a participant
registry.</p>

<p>The procedure below shows an example using the following model of a participant
from the Getting Started walkthrough.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>namespace net.biz.digitalPropertyNetwork

participant Person identified by personId {
  o String personId
  o String firstName
  o String lastName
}
</code></pre>
</div>

<p>The example assumes that an instance, <code class="highlighter-rouge">net.biz.digitalPropertyNetwork#mae@biznet.org</code>,
of that participant has been created and placed into a participant registry.</p>

<h2 id="procedure">Procedure</h2>

<ol>
  <li>Issue an identity to the participant
    <ul>
      <li>JavaScript API</li>
    </ul>

    <p><code class="highlighter-rouge">javascript
 let businessNetworkConnection = /* TODO: get a business network connection */
 businessNetworkConnection.issueIdentity('net.biz.digitalPropertyNetwork.Person#mae@biznet.org', 'maeid1')
     .then((result) =&gt; {
         console.log(`userID = ${result.userID}`);
         console.log(`userSecret = ${result.userSecret}`);
     });
</code></p>
  </li>
</ol>

<ul>
  <li>
    <p>Command line</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>composer identity issue -n <span class="s1">'digitalproperty-network'</span> -i admin -s Xurw3yU9zI0l -u maeid1 -a <span class="s2">"net.biz.digitalPropertyNetwork.Person#mae@biznet.org"</span>
</code></pre>
    </div>

    <p>The enrollment secret will be printed to the console.</p>
  </li>
</ul>

<ol>
  <li>As the participant, test the connection to the business network
    <ul>
      <li>JavaScript API</li>
    </ul>

    <p><code class="highlighter-rouge">javascript
 let businessNetworkConnection = /* TODO: get a business network connection */
 businessNetworkConnection.ping()
     .then((result) =&gt; {
         console.log(`participant = ${result.participant ? result.participant : '&lt;no participant found&gt;'}`);
     });
</code></p>
  </li>
</ol>

<ul>
  <li>
    <p>Command line</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>composer network ping -n <span class="s1">'digitalproperty-network'</span> -i maeid1 -s RJJmlOpvNVRV
</code></pre>
    </div>

    <p>The participant ID will be printed to the console, and should match the participant
ID that was specified in the <code class="highlighter-rouge">composer identity issue</code> command.</p>
  </li>
</ul>
