<!doctype html>
<html lang="en">
  
  
  

<head>
  <meta charset="utf-8">
  
    <title>Node-Red Tutorial | Hyperledger Composer</title>
  
  <meta name="viewport" content="width=device-width">
  <link rel="icon" type="image/x-icon" href="/v0.16/favicon.ico">
  <meta name="google-site-verification" content="fBQRJ6h7MV7_TJ7grbgq4P-d-07NRfDWPe4pqEEoH5w">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  
    <!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-91314349-2', 'auto');
ga('require', 'outboundLinkTracker');
ga('require', 'eventTracker');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script async src="/v0.16/assets/js/autotrack.js"></script>
<!-- End Google Analytics -->

  

  
    <link href="/v0.16/assets/css/normalize.css" rel="stylesheet">
    <link href="/v0.16/assets/css/new-style.min.css" rel="stylesheet">
    <link href="/v0.16/assets/css/grid-layout.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.6.0/clipboard.min.js"></script>
  
</head>


<body class="">

  
  <!-- % include navbar.html % -->
  

  <div class="SiteWrapper">
    
      <div class="content">
    <article class="docs-container">
        <!-- If there's a sidebar, divide into 2 columns -->
        
        <div class="page-sidebar-grid" id="off-canvas">
          <!-- <a class="toggle close" href="#">close</a> -->
          <div class="docs-pagenav-grid">
            <!-- Navigation -->
  <nav class="navbar-docs" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
            <a class="navbar-brand" href="/v0.16/index.html"><b>Hyperledger</b> Composer</a>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <div class="top-nav-docs">
                <!-- <li>
                    <a href="services.html">Composer</a>
                </li> -->
                <!-- <li>
                    <a href="https://composer-playground.mybluemix.net/">Playground</a>
                </li> -->
                    <a href="../tutorials/tutorials.html">Tutorials</a>
                    <a href="../introduction/introduction.html">Docs</a>
                    <a href="../support/support-index.html">Community</a>
            </div>
        </div>
</nav>

          </div>

            <div class="search-form">
              <form action="/v0.16/search/search.html" method="get">
                <!-- <label for="search-box">Search</label> -->

                <input type="text" id="search-box"  class="search-box" name="query" placeholder="Search here...">
                <input type="submit" class="submit-input hide" value="">

                <div class="search-icon">
                  <img src="/v0.16/assets/img/Search_Icon_1.svg" class="trigger" type="submit">
                </div>
              </form>
            </div>

          <div class="docs-current-page-grid">
          <p>Node-Red Tutorial</p>
          </div>

          <nav class="context-nav">
            
            
              <ul>
<li><p><a href="/v0.16/introduction/introduction"><b>Introduction</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/v0.16/introduction/key-concepts">Key Concepts</a></li>
<li><a href="/v0.16/introduction/solution-architecture">Typical Solution Architecture</a></li>
</ul></li>
<li><p><a href="/v0.16/installing/installing-index"><b>Installing</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/v0.16/installing/installing-prereqs">Installing pre-requisites</a></li>
<li><a href="/v0.16/installing/development-tools">Installing the development environment</a></li>
<li><a href="/v0.16/installing/using-playground-locally">Installing Playground only</a></li>
</ul></li>
<li><p><a href="/v0.16/tutorials/tutorials"><b>Tutorials</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/v0.16/tutorials/playground-tutorial">Playground Tutorial</a></li>
<li><a href="/v0.16/tutorials/developer-tutorial">Developer Tutorial</a></li>
<li><a href="/v0.16/tutorials/queries">Queries Tutorial</a></li>
<li><a href="/v0.16/tutorials/deploy-to-fabric-single-org">Deploying to a single organization Hyperledger Fabric</a></li>
<li><a href="/v0.16/tutorials/deploy-to-fabric-multi-org">Deploying to a multi-organization Hyperledger Fabric</a></li>
<li><a href="/v0.16/tutorials/nodered-tutorial">Node-Red Tutorial</a></li>
</ul></li>
<li><p><a href="/v0.16/playground/playground-index"><b>Using Playground</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/v0.16/playground/id-cards-playground">Business Network Cards</a></li>
</ul></li>
<li><p><a href="/v0.16/business-network/business-network-index"><b>Developing Business Networks</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/v0.16/business-network/businessnetworkdefinition">Business Network Definitions</a></li>
<li><a href="/v0.16/business-network/bnd-create">Create a Business Network Definition</a></li>
<li><a href="/v0.16/business-network/bnd-deploy">Deploying Business Networks</a></li>
<li><a href="/v0.16/business-network/publishing-events">Emitting Events</a></li>
<li><a href="/v0.16/business-network/testing">Testing Business Networks</a></li>
<li><a href="/v0.16/business-network/bnd-publish">Publish Models or Business Network Definitions</a></li>
<li><a href="/v0.16/business-network/query">Using Queries and Filters with Business Network Data</a></li>
<li><a href="/v0.16/business-network/programmatic-access-control">Programmatic access control</a></li>
<li><a href="/v0.16/business-network/historian">Hyperledger Composer Historian</a></li>
</ul></li>
<li><p><a href="/v0.16/applications/applications-index"><b>Developing Applications</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/v0.16/applications/node">Writing a Node.js application</a></li>
<li><a href="/v0.16/applications/web">Writing Web or mobile applications</a></li>
<li><a href="/v0.16/applications/subscribing-to-events">Subscribing to events</a></li>
</ul></li>
<li><p><a href="/v0.16/integrating/integrating-index"><b>Integrating Existing Systems</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/v0.16/integrating/getting-started-rest-api">Generating a REST API</a></li>
<li><a href="/v0.16/integrating/publishing-events">Publishing events from the REST server</a></li>
<li><a href="/v0.16/integrating/enabling-rest-authentication">Enabling authentication for the REST server</a></li>
<li><a href="/v0.16/integrating/enabling-multiuser">Enabling multiple user mode for the REST server</a></li>
<li><a href="/v0.16/integrating/securing-the-rest-server">Securing the REST server using HTTPS and TLS</a></li>
<li><a href="/v0.16/integrating/deploying-the-rest-server">Deploying the REST server for a business network</a></li>
<li><a href="/v0.16/integrating/node-red">Integrating with Node-RED</a></li>
<li><a href="/v0.16/integrating/call-out">Calling external REST services</a></li>
</ul></li>
<li><p><a href="/v0.16/managing/managingindex"><b>Managing a Deployed Business Network</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/v0.16/managing/participantsandidentities">Participants and identities</a></li>
<li><a href="/v0.16/managing/participant-add">Adding participants</a></li>
<li><a href="/v0.16/managing/id-cards-playground">Creating, Exporting, and Importing Business Network Cards</a></li>
<li><a href="/v0.16/managing/identity-issue">Issuing a new identity to a participant</a></li>
<li><a href="/v0.16/managing/identity-bind">Binding an existing identity to a participant</a></li>
<li><a href="/v0.16/managing/identity-list">Listing all identities in a business network</a></li>
<li><a href="/v0.16/managing/identity-revoke">Revoking an identity from a participant</a></li>
<li><a href="/v0.16/managing/updating-composer">Updating the Hyperledger Composer Runtime</a></li>
</ul></li>
<li><p><a href="/v0.16/problems/diagnostics"><b>Diagnosing Problems</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p></li>
<li><p><a href="/v0.16/reference/reference-index"><b>Reference</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/v0.16/reference/MeetTheModules">Hyperledger Composer npm Modules</a></li>
<li><a href="/v0.16/reference/cto_language">Modeling Language</a></li>
<li><a href="/v0.16/reference/acl_language">Access Control Language</a></li>
<li><a href="/v0.16/reference/query-language">Query Language</a></li>
<li><a href="/v0.16/reference/model-compatibility">Model Compatibility</a></li>
<li><a href="/v0.16/reference/connectionprofile">Connection Profiles</a></li>
<li><a href="/v0.16/reference/js_scripts">Transaction Processor Functions</a></li>
<li><a href="/v0.16/reference/commands">Hyperledger Composer CLI Commands</a></li>
<li><a href="/v0.16/reference/rest-server">Hyperledger Composer REST Server</a></li>
<li><a href="/v0.16/reference/glossary">Hyperledger Composer Glossary of Terms</a></li>
</ul></li>
<li><p><a href="/v0.16/support/support-index"><b>Support</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p></li>
<li><p><a href="/v0.16/api/api-doc-index"><b>API Reference</b><img src="/v0.16/assets/img/Caret_SW_2.svg" class="caret"></a></p>

<ul>
<li><a href="/v0.16/api/allData">API Class Index</a></li>
<li><a href="/v0.16/api/admin-adminconnection">AdminConnection (Admin API)</a></li>
<li><a href="/v0.16/api/client-assetregistry">AssetRegistry (Client API)</a></li>
<li><a href="/v0.16/api/client-businessnetworkconnection">BusinessNetworkConnection (Client API)</a></li>
<li><a href="/v0.16/api/client-historian">Historian (Client API)</a></li>
<li><a href="/v0.16/api/client-identityregistry">IdentityRegistry (Client API)</a></li>
<li><a href="/v0.16/api/client-participantregistry">ParticipantRegistry (Client API)</a></li>
<li><a href="/v0.16/api/client-query">Query (Client API)</a></li>
<li><a href="/v0.16/api/client-registry">Registry (Client API)</a></li>
<li><a href="/v0.16/api/client-transactionregistry">TransactionRegistry (Client API)</a></li>
<li><a href="/v0.16/api/common-assetdeclaration">AssetDeclaration (Common API)</a></li>
<li><a href="/v0.16/api/common-businessnetworkcardstore">BusinessNetworkCardStore (Common API)</a></li>
<li><a href="/v0.16/api/common-businessnetworkdefinition">BusinessNetworkDefinition (Common API)</a></li>
<li><a href="/v0.16/api/common-businessnetworkmetadata">BusinessNetworkMetadata (Common API)</a></li>
<li><a href="/v0.16/api/common-classdeclaration">ClassDeclaration (Common API)</a></li>
<li><a href="/v0.16/api/common-concept">Concept (Common API)</a></li>
<li><a href="/v0.16/api/common-conceptdeclaration">ConceptDeclaration (Common API)</a></li>
<li><a href="/v0.16/api/common-enumdeclaration">EnumDeclaration (Common API)</a></li>
<li><a href="/v0.16/api/common-enumvaluedeclaration">EnumValueDeclaration (Common API)</a></li>
<li><a href="/v0.16/api/common-eventdeclaration">EventDeclaration (Common API)</a></li>
<li><a href="/v0.16/api/common-factory">Factory (Common API)</a></li>
<li><a href="/v0.16/api/common-filesystemcardstore">FileSystemCardStore (Common API)</a></li>
<li><a href="/v0.16/api/common-functiondeclaration">FunctionDeclaration (Common API)</a></li>
<li><a href="/v0.16/api/common-idcard">IdCard (Common API)</a></li>
<li><a href="/v0.16/api/common-identifiable">Identifiable (Common API)</a></li>
<li><a href="/v0.16/api/common-introspector">Introspector (Common API)</a></li>
<li><a href="/v0.16/api/common-memorycardstore">MemoryCardStore (Common API)</a></li>
<li><a href="/v0.16/api/common-modelfile">ModelFile (Common API)</a></li>
<li><a href="/v0.16/api/common-modelmanager">ModelManager (Common API)</a></li>
<li><a href="/v0.16/api/common-participantdeclaration">ParticipantDeclaration (Common API)</a></li>
<li><a href="/v0.16/api/common-property">Property (Common API)</a></li>
<li><a href="/v0.16/api/common-relationship">Relationship (Common API)</a></li>
<li><a href="/v0.16/api/common-relationshipdeclaration">RelationshipDeclaration (Common API)</a></li>
<li><a href="/v0.16/api/common-resource">Resource (Common API)</a></li>
<li><a href="/v0.16/api/common-serializer">Serializer (Common API)</a></li>
<li><a href="/v0.16/api/common-transactiondeclaration">TransactionDeclaration (Common API)</a></li>
<li><a href="/v0.16/api/common-typed">Typed (Common API)</a></li>
<li><a href="/v0.16/api/common-validatedconcept">ValidatedConcept (Common API)</a></li>
<li><a href="/v0.16/api/common-validatedresource">ValidatedResource (Common API)</a></li>
<li><a href="/v0.16/api/runtime-api">Api (Runtime API)</a></li>
<li><a href="/v0.16/api/runtime-assetregistry">AssetRegistry (Runtime API)</a></li>
<li><a href="/v0.16/api/runtime-factory">Factory (Runtime API)</a></li>
<li><a href="/v0.16/api/runtime-participantregistry">ParticipantRegistry (Runtime API)</a></li>
<li><a href="/v0.16/api/runtime-query">Query (Runtime API)</a></li>
<li><a href="/v0.16/api/runtime-serializer">Serializer (Runtime API)</a></li>
</ul></li>
</ul>

            
                <div class="docs-footer-grid">
                <div class="footer-bg-break docs-footer-break">
<div class="footer-container-break">
    <div class="footer-left-break">
      <p>Released under the Apache License v2.0</p>
    </div>
  <div class="footer-right-break">
    <ul>
      <li><a href="https://github.com/hyperledger/composer">GitHub</a></li>
      <li><a href="http://stackoverflow.com/questions/tagged/fabric-composer">Stack Overflow</a></li>
      <li><a href="https://goo.gl/forms/7YPMLP2LTN2hjIRk2">Feedback?</a></li>
    </ul>
  </div>
</div>
</div>

                </div>
          </nav>
        </div>
        <div class="page-content-grid">
          <section class="content-chunk">
            <!-- <a class="toggle open" href="#nav">open</a> -->
            
              <h1 id="node-red-tutorial-for-integrating-a-hyperledger-composer-business-network">Node-RED Tutorial for Integrating a Hyperledger Composer Business Network</h1>

<p>This tutorial demonstrates how to integrate an existing system of record data source into the blockchain ledger.  In this guide, we will build on the <a href="./developer-tutorial.html">Developer Tutorial</a>, extending it to bulk load records from a JSON text file data source to populate Participant and Asset registries in the sample &#39;Commodity Trading&#39; business network.  </p>

<p><a href="http://nodered.org">Node-RED</a> is a lightweight Open Source integration technology, written in JavaScript. It uses a graphical flow to integrate different <em>nodes</em>, where nodes can receive data, transform data and output data.</p>

<p>Node-RED is commonly used to rapidly prototype Internet of Things style applications, or to wire existing Internet services together.</p>

<p>You can use the Hyperledger Composer Node-RED contribution to:</p>

<ul>
<li>Submit transactions</li>
<li>Read and update assets and participants</li>
<li>Subscribe to events</li>
<li>Delete assets and participants</li>
<li>Perform a bulk load (eg. loading test data)</li>
</ul>

<p>This tutorial gives an overview of the techniques and resources available to apply to your own use case.</p>

<p>This tutorial uses the <code>tutorial-network</code> business network developed and deployed in the <a href="./developer-tutorial.html">Developer Tutorial</a>.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Before beginning this tutorial:</p>

<ul>
<li>Complete the <a href="../installing/development-tools.html">development environment installation</a>.</li>
<li>Complete the <a href="./developer-tutorial.html">developer tutorial</a>.</li>
</ul>

<p>This tutorial assumes the reader has some familiarity with Node-RED.  The <a href="http://nodered.org">Node-RED</a> website has an introductory video and a getting started link.</p>

<h2 id="step-one-install-and-start-node-red">Step One: Install and Start Node-RED</h2>

<p>Node-RED is a Node.js application and should be installed on a  development environment with the following command <code>npm install -g node-red</code> </p>

<p>Use the following command to start Node-RED <code>node-red</code></p>

<p>The command output will show that Node-Red server is now running at <a href="http://127.0.0.1:1880/">http://127.0.0.1:1880/</a> - open this link in a Browser to see the Node-RED UI.</p>

<h2 id="step-two-install-composer-nodes">Step Two: Install Composer Nodes</h2>

<p>The Composer Nodes for Node-RED are described here <a href="https://www.npmjs.com/package/node-red-contrib-composer">https://www.npmjs.com/package/node-red-contrib-composer</a> and can be installed into Node-RED through the UI.</p>

<ol>
<li><p>On the Node-RED UI Menu, click <strong>Manage palette</strong>, the click on the <strong>Install</strong> tab.  In the <strong>search modules</strong> field type <em>node-red-contrib-composer</em>, then click the <strong>Install</strong> button and on the confirmation dialog click the red <strong>Install</strong> button. </p>

<p>The nodes take a few moments to install, and a message will be shown in the UI and in the terminal window where Node-RED was started.</p></li>
<li><p>Verify that the nodes are installed by scrolling to the end of the Palette on the left of the UI - a new category called <strong>Hyperledger</strong> should be at the bottom with the three nodes.</p></li>
</ol>

<h2 id="step-three-install-fs-node">Step Three: Install fs Node</h2>

<p>This tutorial uses JSON data from text files and needs additional nodes <em>node-red-contrib-fs</em></p>

<ol>
<li><p>On the Node-RED UI Menu, click <strong>Manage palette</strong>, the click on the <strong>Install</strong> tab.  In the <strong>search modules</strong> field type <em>node-red-contrib-fs</em>, then click the <strong>Install</strong> button and on the confirmation dialog click the red <strong>Install</strong> button.</p></li>
<li><p>Verify that the <strong>fs file lister</strong> node has been added to the Storage category on the Palette.</p></li>
</ol>

<h2 id="step-four-build-flow">Step Four: Build Flow</h2>

<p>The image below shows what the completed flow will look like.
<img src="../assets/img/tutorials/nodered/nodered-flow.png" alt="Node RED Flow"></p>

<p><strong>Drag</strong> the nodes from the palette on the left onto the Flow.</p>

<p><strong>Double click</strong> on a node to edit the properties.</p>

<p>The types and properties of the six nodes are described below:</p>

<h5 id="1-inject-node-from-input-category-start">1. <strong>inject</strong> node (from input category) - <em>Start</em></h5>

<p>Set the properties for this node:</p>

<ul>
<li><p><strong>Payload</strong> - <em>timestamp</em></p></li>
<li><p><strong>Topic</strong> - <em>&lt;empty&gt;</em></p></li>
<li><p><strong>Repeat</strong> - <em>none</em></p></li>
<li><p><strong>Inject once at start?</strong> - <em>&lt;unchecked&gt;</em></p></li>
<li><p><strong>Name</strong> - <em>Start</em></p></li>
</ul>

<p>In this flow the inject node is being used primarily to initiate the flow, rather than to inject data.  In this flow the data will come from JSON files on disk.</p>

<h5 id="2-fs-file-lister-node-from-storage-category-read-json-files">2. <strong>fs file lister</strong> node (from storage category) - <em>Read JSON Files</em></h5>

<p>Set the properties for this node:</p>

<ul>
<li><p><strong>Start Folder</strong> - <em>/home/&lt;username&gt;/tutorial-network/testdata/traders/</em></p></li>
<li><p><strong>File Pattern</strong> - <em>*.json</em></p></li>
<li><p><strong>Include full path in output?</strong> - <em>&lt;checked&gt;</em></p></li>
<li><p><strong>Output single message (array)?</strong> - <em>&lt;unchecked&gt;</em></p></li>
<li><p><strong>Max, search depth</strong> - <em>0</em></p></li>
<li><p><strong>Return file details?</strong> - <em>&lt;unchecked&gt;</em></p></li>
<li><p><strong>Name</strong> - <em>Read JSON Files</em></p></li>
</ul>

<p>For the <strong>Start Folder</strong>, on Ubuntu Linux substitute &lt;username&gt; for the logged in user.  On Mac adjust the Foldername to reflect your system.  In the next step of the tutorial test data will be created in this folder.  Use the full path of the folder - using the ~/ notation to indicate the user&#39;s home folder will cause an error.</p>

<h5 id="3-change-node-from-function-category-set-filename">3. <strong>change</strong> node (from function category) - <em>Set Filename</em></h5>

<p>Set the properties for this node:</p>

<ul>
<li><p><strong>Name</strong> - <em>Set Filename</em></p></li>
<li><p><strong>Rules</strong></p>

<ul>
<li> <strong>Set</strong> - <em>msg.filename</em></li>
<li> <strong>to</strong> - <em>msg.payload</em>  (Be sure to change the dropdown to <em>msg</em> )</li>
</ul></li>
</ul>

<p>This node sets the filename variable for the next node in the flow.</p>

<h5 id="4-file-in-node-from-storage-category-read-json-file">4. <strong>file in</strong> node (from storage category) - <em>Read JSON File</em></h5>

<p>Set the properties for this node:</p>

<ul>
<li><p><strong>Filename</strong> - <em>&lt;empty&gt;</em></p></li>
<li><p><strong>Repeat</strong> - <em>a single utf8 string</em></p></li>
<li><p><strong>Send message on error (legacy mode)</strong> - <em>&lt;checked&gt;</em></p></li>
<li><p><strong>Name</strong> - <em>Read JSON File</em></p></li>
</ul>

<p>This node reads the JSON test data file into a String variable.</p>

<h5 id="5-json-node-from-function-category-set-json">5. <strong>json</strong> node (from function category) - <em>Set JSON</em></h5>

<p>Set the properties for this node:</p>

<ul>
<li><p><strong>Name</strong> - <em>Set JSON</em></p></li>
<li><p><strong>Format JSON string</strong> - <em>&lt;checked&gt;</em></p></li>
</ul>

<p>This node converts the JSON string into a JavaScript object for the next node in the flow.</p>

<h5 id="6-composer-out-node-from-hyperledger-category-create-trader">6. <strong>composer</strong> out node (from Hyperledger category) - <em>Create Trader</em></h5>

<p>Set the properties for this node:</p>

<ul>
<li><p><strong>Name</strong> - <em>Create Trader</em></p></li>
<li><p><strong>Action Type</strong> - <em>Create</em></p></li>
</ul>

<p><strong>Click</strong> the pencil icon to add a new Composer Card.</p>

<ul>
<li> <strong>Card Name</strong> - <em>admin@tutorial-network</em>
This is the Hyperledger Composer node that will connect to the Business Network on the Fabric and submit the Transaction.</li>
</ul>

<p>After you have set the properties on all the nodes, <strong>Wire the nodes together</strong> as shown in the diagram above.
Remember to click the red <strong>Deploy</strong> button to save the flow.</p>

<h2 id="step-five-create-test-data">Step Five: Create Test Data</h2>

<h4 id="create-json-text-files-for-new-participants">Create JSON text files for new Participants</h4>

<p>Using a text editor such as vi or gedit , create a text file called <strong>/home/<em>&lt;username&gt;</em>/tutorial-network/testdata/traders/trader4.json</strong> with the following contents</p>
<div class="highlight"><pre><code class="language-" data-lang="">{
  "$class": "org.acme.biznet.Trader",
  "tradeId": "TRADER4",
  "firstName": "John",
  "lastName": "Smith"
}
</code></pre></div>
<p>Create two more JSON text files for <strong>trader5</strong> and <strong>trader6</strong> with the following data</p>
<div class="highlight"><pre><code class="language-" data-lang="">{
  "$class": "org.acme.biznet.Trader",
  "tradeId": "TRADER5",
  "firstName": "Simon",
  "lastName": "Jenkins"
}
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">{
  "$class": "org.acme.biznet.Trader",
  "tradeId": "TRADER6",
  "firstName": "Susan",
  "lastName": "Stone"
}
</code></pre></div>
<h4 id="create-json-text-files-for-new-commodities">Create JSON text files for new Commodities</h4>

<p>Create a text file called <strong>/home/<em>&lt;username&gt;</em>/tutorial-network/testdata/commodities/diamond.json</strong> with the following contents</p>
<div class="highlight"><pre><code class="language-" data-lang="">{
  "$class": "org.acme.biznet.Commodity",
  "tradingSymbol": "DIA",
  "description": "Diamond commodity",
  "mainExchange": "Jewel",
  "quantity": 1.45,
  "owner": "resource:org.acme.biznet.Trader#TRADER6"
}
</code></pre></div>
<p>Create two more JSON text files for <strong>apple</strong> and <strong>oil</strong> with the following data</p>
<div class="highlight"><pre><code class="language-" data-lang="">{
  "$class": "org.acme.biznet.Commodity",
  "tradingSymbol": "APP",
  "description": "Apple commodity",
  "mainExchange": "Food",
  "quantity": 234500,
  "owner": "resource:org.acme.biznet.Trader#TRADER4"
}
</code></pre></div><div class="highlight"><pre><code class="language-" data-lang="">{
 "$class": "org.acme.biznet.Commodity",
 "tradingSymbol": "CL",
 "description": "Crude Oil",
 "mainExchange": "NYMEX",
 "quantity": 35,
 "owner": "resource:org.acme.biznet.Trader#TRADER5"
}
</code></pre></div>
<h2 id="step-six-test-flow">Step Six: Test Flow</h2>

<ol>
<li><p><strong>Click</strong> on the left edge of the <strong>Start</strong> node to test the flow. </p></li>
<li><p>Use the Playground, REST server or the following command to validate that the test data has been added <code>composer network list -c admin@tutorial-network</code></p></li>
</ol>

<h2 id="step-seven-add-commodities">Step Seven: Add Commodities</h2>

<p>In the previous step the flow has been run and the participants (Traders) have been added.  Test data has been created for new Assets (Commodities) and a small re-configuration is required to add them.</p>

<ol>
<li><p><strong>Double Click</strong> the <strong>Read JSON Files</strong> node and modify the property <strong>Start Folder</strong> to reference your commodities test data folder.</p></li>
<li><p><strong>Click</strong> the <strong>Deploy</strong> buton the save and deploy the change.</p></li>
<li><p><strong>Start</strong> the flow and validate that the Commodity test data has been added.</p></li>
</ol>

<h2 id="possible-errors">Possible errors</h2>

<p>Any Errors will be dislayed on the debug tab in the UI, and on the terminal window where Node-RED was started.</p>

<p><strong>[error] [fs-file-lister:Read JSON Files] Error processing folder listing</strong>  --<br>
Incorrectly specified folder name in <strong>Read JSON Files</strong> Node.</p>

<p><strong>[error] [hyperledger-composer-out:Create Trader] Error: creating resource error Namespace is not defined for type org.acme.biznetttt.Commodity</strong>  --
Errors in the test data - namespace errors or formatting errors in the JSON files.</p>

<p><strong>[error] [hyperledger-composer-out:Create Trader] Error trying to query business network. Error: Connect FailedFabric</strong>  --
Containers not started - use <code>docker ps</code> to check.</p>

<p><strong>[error] [hyperledger-composer-out:Create Trader] Error: creating resource error Card not found: admin@exampleyz-networkWrong Business Network Card specified</strong>  -- 
verify card name by using <code>composer card list</code> on command line.</p>

<!--  
Do we add another flow for the events ?
-->

            
          </section>
        </div>
        <!-- Otherwise, have the main content fill all 12 columns... -->
        
      <div class="PageNavigation">
    
    
  </div>
    </article>
</div>
<script>
(function (document) {
    function clipboard_init() {
        var charts = document.querySelectorAll("div.highlight"),
            arr = [],
            i, j, maxItem, pre, btn, el;

        // Make sure we are dealing with an array
        for(i = 0, maxItem = charts.length; i < maxItem; i++) arr.push(charts[i]);

        // Find the UML source element and get the text
        for (i = 0, maxItem = arr.length; i < maxItem; i++) {
            el = arr[i];
            pre = el.childNodes[0];

            pre.id = "hl_code" + i.toString();
            btn = document.createElement('copy-button');
            btn.appendChild(document.createTextNode('Copy'));
            btn.setAttribute("class", "copy-btn");
            btn.setAttribute("data-clipboard-target", "#hl_code" + i.toString());
            el.insertBefore(btn, pre);
        }
        new Clipboard('.copy-btn');
    };

    function onReady(fn) {
        if (document.addEventListener) {
            document.addEventListener('DOMContentLoaded', fn);
        } else {
            document.attachEvent('onreadystatechange', function() {
                if (document.readyState === 'interactive')
                    fn();
            });
        }
    }

    onReady(function(){
        clipboard_init();
    });
})(document);
</script>
<script src="/v0.16/assets/js/nav.js"></script>
<script src="/v0.16/assets/js/search_bar.js"></script>

    

    


  </div>
</body>
</html>
