<!doctype html>
<html lang="en">
  
  
  

<head>
  <meta charset="utf-8">
  
    <title>AdminConnection (Admin API) | Hyperledger Composer</title>
  
  <meta name="viewport" content="width=device-width">
  <link rel="icon" type="image/x-icon" href="/composer/unstable/favicon.ico">
  <meta name="google-site-verification" content="fBQRJ6h7MV7_TJ7grbgq4P-d-07NRfDWPe4pqEEoH5w">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  
    <!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-91314349-2', 'auto');
ga('require', 'outboundLinkTracker');
ga('require', 'eventTracker');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script async src="/composer/unstable/assets/js/autotrack.js"></script>
<!-- End Google Analytics -->

  

  
    <link href="/composer/unstable/assets/css/normalize.css" rel="stylesheet">
    <link href="/composer/unstable/assets/css/new-style.min.css" rel="stylesheet">
    <link href="/composer/unstable/assets/css/grid-layout.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.6.0/clipboard.min.js"></script>
  
</head>


<body class="">

  
  <!-- % include navbar.html % -->
  

  <div class="SiteWrapper">
    
      <div class="content">
    <article class="docs-container">
        <!-- If there's a sidebar, divide into 2 columns -->
        
        <div class="page-sidebar-grid" id="off-canvas">
          <!-- <a class="toggle close" href="#">close</a> -->
          <div class="docs-pagenav-grid">
            <!-- Navigation -->
  <nav class="navbar-docs" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
            <a class="navbar-brand" href="/composer/unstable/index.html"><b>Hyperledger</b> Composer</a>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <div class="top-nav-docs">
                <!-- <li>
                    <a href="services.html">Composer</a>
                </li> -->
                <!-- <li>
                    <a href="https://composer-playground.mybluemix.net/">Playground</a>
                </li> -->
                    <a href="../tutorials/tutorials.html">Tutorials</a>
                    <a href="../introduction/introduction.html">Docs</a>
                    <a href="../support/support-index.html">Community</a>
            </div>
        </div>
</nav>

          </div>

            <div class="search-form">
              <form action="/composer/unstable/search.html" method="get">
                <!-- <label for="search-box">Search</label> -->

                <input type="text" id="search-box"  class="search-box" name="query" placeholder="Search here...">
                <input type="submit" class="submit-input hide" value="">

                <div class="search-icon">
                  <img src="/composer/unstable/assets/img/Search_Icon_1.svg" class="trigger" type="submit">
                </div>
              </form>
            </div>

          <div class="docs-current-page-grid">
          <p>AdminConnection (Admin API)</p>
          </div>

          <nav class="context-nav">
            
            
              <ul>
<li><p><a href="../introduction/introduction.html">Introduction</a></p>

<ul>
<li><a href="../introduction/key-concepts.html">Key Concepts</a></li>
<li><a href="../introduction/solution-architecture.html">Typical Solution Architecture</a></li>
</ul></li>
<li><p><a href="../installing/installing-index.html">Installing</a></p>

<ul>
<li><a href="../installing/getting-started-with-playground.html">Using the Playground online</a></li>
<li><a href="../installing/prereqs-mac.html">Installing pre-requisites on Mac OS</a></li>
<li><a href="../installing/using-playground-locally.html">Installing the Playground locally</a></li>
<li><a href="../installing/development-tools.html">Installing a development environment</a></li>
</ul></li>
<li><p><a href="../tutorials/tutorials.html">Tutorials</a></p>

<ul>
<li><a href="../tutorials/playground-guide.html">Playground Tutorial</a></li>
<li><a href="../tutorials/developer-guide.html">Developer Guide</a></li>
<li><a href="../tutorials/queries.html">Queries Guide</a></li>
</ul></li>
<li><p><a href="../playground/playground-index.html">Using Playground</a></p>

<ul>
<li><a href="../playground/id-cards-playground.html">ID Cards</a></li>
</ul></li>
<li><p><a href="../business-network/business-network-index.html">Developing Business Networks</a></p>

<ul>
<li><a href="../business-network/businessnetworkdefinition.html">Business Network Definitions</a></li>
<li><a href="../business-network/bnd-create.html">Create a Business Network Definition</a></li>
<li><a href="../business-network/bnd-deploy.html">Deploying and Updating Business Networks</a></li>
<li><a href="../business-network/publishing-events.html">Emitting Events</a></li>
<li><a href="../business-network/testing.html">Testing Business Networks</a></li>
<li><a href="../business-network/bnd-publish.html">Publish Models or Business Network Definitions</a></li>
<li><a href="../business-network/query.html">Using Filters and Queries with Business Network Data</a></li>
<li><a href="../business-network/programmatic-access-control.html">Programmatic access control</a></li>
<li><a href="../business-network/historian.html">Hyperledger Composer Historian</a></li>
</ul></li>
<li><p><a href="../applications/applications-index.html">Developing Applications</a></p>

<ul>
<li><a href="../applications/node.html">Writing a Node.js application</a></li>
<li><a href="../applications/web.html">Writing Web or mobile applications</a></li>
<li><a href="../applications/subscribing-to-events.html">Subscribing to events</a></li>
</ul></li>
<li><p><a href="../integrating/integrating-index.html">Integrating Existing Systems</a></p>

<ul>
<li><a href="../integrating/getting-started-rest-api.html">Generating a REST API</a></li>
<li><a href="../integrating/publishing-events.html">Publishing events from the REST server</a></li>
<li><a href="../integrating/enabling-rest-authentication.html">Enabling authentication for the REST server</a></li>
<li><a href="../integrating/enabling-multiuser.html">Enabling multiple user mode for the REST server</a></li>
<li><a href="../integrating/securing-the-rest-server.html">Securing the REST server using HTTPS and TLS</a></li>
<li><a href="../integrating/deploying-the-rest-server.html">Deploying the REST server for a business network</a></li>
<li><a href="../integrating/node-red.html">Integrating with Node-RED</a></li>
<li><a href="../integrating/call-out.html">Calling external REST services</a></li>
</ul></li>
<li><p><a href="../managing/managingindex.html">Managing a Deployed Business Network</a></p>

<ul>
<li><a href="../managing/participantsandidentities.html">Participants and identities</a></li>
<li><a href="../managing/participant-add.html">Adding participants</a></li>
<li><a href="../managing/id-cards-playground.html">Creating, Exporting, and Importing ID Cards</a></li>
<li><a href="../managing/identity-issue.html">Issuing a new identity to a participant</a></li>
<li><a href="../managing/identity-bind.html">Binding an existing identity to a participant</a></li>
<li><a href="../managing/identity-list.html">Listing all identities in a business network</a></li>
<li><a href="../managing/identity-revoke.html">Revoking an identity from a participant</a></li>
<li><a href="../managing/updating-composer.html">Updating the Hyperledger Composer Runtime</a></li>
</ul></li>
<li><p><a href="../problems/diagnostics.html">Diagnosing Problems</a></p>

<ul>
<li><a href="../problems/deployment-local-playground.html">Error using the local Playground</a></li>
</ul></li>
<li><p><a href="../reference/reference-index.html">Reference</a></p>

<ul>
<li><a href="../reference/MeetTheModules.html">Hyperledger Composer npm Modules</a></li>
<li><a href="../reference/cto_language.html">Modeling Language</a></li>
<li><a href="../reference/acl_language.html">Access Control Language</a></li>
<li><a href="../reference/query-language.html">Query Language</a></li>
<li><a href="../reference/model-compatibility.html">Model Compatibility</a></li>
<li><a href="../reference/connectionprofile.html">Connection Profiles</a></li>
<li><a href="../reference/js_scripts.html">Transaction Processor Functions</a></li>
<li><a href="../reference/commands.html">Hyperledger Composer CLI Commands</a></li>
<li><a href="../reference/glossary.html">Hyperledger Composer Glossary of Terms</a></li>
</ul></li>
<li><p><a href="../support/support-index.html">Support</a></p></li>
<li><p><a href="../api-doc-inline/api-doc-index.html">API Reference</a></p>

<ul>
<li><a href="../api-doc-inline/adminconnection.html">AdminConnection (Admin API)</a></li>
<li><a href="../api-doc-inline/assetregistry.html">AssetRegistry (Client API)</a></li>
<li><a href="../api-doc-inline/baseexception.html">BaseException (Common API)</a></li>
<li><a href="../api-doc-inline/basefileexception.html">BaseFileException (Common API)</a></li>
<li><a href="../api-doc-inline/businessnetworkconnection.html">BusinessNetworkConnection (Client API)</a></li>
<li><a href="../api-doc-inline/businessnetworkdefinition.html">BusinessNetworkDefinition (Common API)</a></li>
<li><a href="../api-doc-inline/businessnetworkmetadata.html">BusinessNetworkMetadata (Common API)</a></li>
<li><a href="../api-doc-inline/concept.html">Concept (Common API)</a></li>
<li><a href="../api-doc-inline/consolelogger.html">ConsoleLogger ( API)</a></li>
<li><a href="../api-doc-inline/factory.html">Factory (Common API)</a></li>
<li><a href="../api-doc-inline/filewallet.html">FileWallet ( API)</a></li>
<li><a href="../api-doc-inline/historian.html">Historian (Client API)</a></li>
<li><a href="../api-doc-inline/idcard.html">IdCard (Common API)</a></li>
<li><a href="../api-doc-inline/identifiable.html">Identifiable (Common API)</a></li>
<li><a href="../api-doc-inline/identityregistry.html">IdentityRegistry (Client API)</a></li>
<li><a href="../api-doc-inline/illegalmodelexception.html">IllegalModelException (Common API)</a></li>
<li><a href="../api-doc-inline/introspector.html">Introspector (Common API)</a></li>
<li><a href="../api-doc-inline/invalidqueryexception.html">InvalidQueryException (Common API)</a></li>
<li><a href="../api-doc-inline/parseexception.html">ParseException (Common API)</a></li>
<li><a href="../api-doc-inline/participantregistry.html">ParticipantRegistry (Client API)</a></li>
<li><a href="../api-doc-inline/query.html">Query (Client API)</a></li>
<li><a href="../api-doc-inline/registry.html">Registry (Client API)</a></li>
<li><a href="../api-doc-inline/relationship.html">Relationship (Common API)</a></li>
<li><a href="../api-doc-inline/resource.html">Resource (Common API)</a></li>
<li><a href="../api-doc-inline/securitycontext.html">SecurityContext (Common API)</a></li>
<li><a href="../api-doc-inline/securityexception.html">SecurityException (Common API)</a></li>
<li><a href="../api-doc-inline/serializer.html">Serializer (Common API)</a></li>
<li><a href="../api-doc-inline/transactionregistry.html">TransactionRegistry (Client API)</a></li>
<li><a href="../api-doc-inline/typed.html">Typed (Common API)</a></li>
<li><a href="../api-doc-inline/typenotfoundexception.html">TypeNotFoundException (Common API)</a></li>
<li><a href="../api-doc-inline/validatedconcept.html">ValidatedConcept (Common API)</a></li>
<li><a href="../api-doc-inline/validatedresource.html">ValidatedResource (Common API)</a></li>
<li><a href="../api-doc-inline/validationexception.html">ValidationException (Common API)</a></li>
<li><a href="../api-doc-inline/wallet.html">Wallet ( API)</a></li>
</ul></li>
</ul>

            
                <div class="docs-footer-grid">
                <div class="footer-bg-break docs-footer-break">
<div class="footer-container-break">
    <div class="footer-left-break">
      <p>Released under the Apache License v2.0</p>
    </div>
  <div class="footer-right-break">
    <ul>
      <li><a href="https://github.com/hyperledger/composer">GitHub</a></li>
      <li><a href="http://stackoverflow.com/questions/tagged/fabric-composer">Stack Overflow</a></li>
      <li><a href="https://goo.gl/forms/7YPMLP2LTN2hjIRk2">Feedback?</a></li>
    </ul>
  </div>
</div>
</div>

                </div>
          </nav>
        </div>
        <div class="page-content-grid">
          <section class="content-chunk">
            <!-- <a class="toggle open" href="#nav">open</a> -->
            
              <h1 id="adminconnection">AdminConnection</h1>

<p>This class creates an administration connection to a Hyperledger Composer runtime. The
connection can then be used to:
<ul>
<li>Deploy BusinessNetworkDefinitions</li>
<li>Undeploy BusinessNetworkDefinitions</li>
<li>Update BusinessNetworkDefinitions</li>
<li>Send a ping message to the runtime to ensure it is running and
correctly configured.</li>
<li>Store a connection profile document in the connection profile store</li>
</ul></p>

<h3 id="details">Details</h3>

<ul>
<li><strong>Extends</strong> </li>
<li><strong>Module</strong> admin</li>
</ul>

<h3 id="see-also">See also</h3>

<h2 id="method-summary">Method Summary</h2>

<table><thead>
<tr>
<th style="text-align: left">Returns</th>
<th style="text-align: left">Name</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#connect-string-string-string-string">connect</a></td>
<td style="text-align: left">Connects and logs in to the Hyperledger Fabric using a named connection</td>
</tr>
<tr>
<td style="text-align: left"><code>void</code></td>
<td style="text-align: left"><a href="#constructor-object-connectionprofilestore-object">constructor</a></td>
<td style="text-align: left">Create an instance of the AdminConnection class.</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#createprofile-string-object">createProfile</a></td>
<td style="text-align: left">Stores a connection profile into the profile store being used by this</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#deleteprofile-string">deleteProfile</a></td>
<td style="text-align: left">Deletes the specified connection profile from the profile store being used by this</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#deploy-businessnetworkdefinition-object">deploy</a></td>
<td style="text-align: left">Deploys a new BusinessNetworkDefinition to the Hyperledger Fabric. The connection must</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#disconnect">disconnect</a></td>
<td style="text-align: left">Disconnects this connection.</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#exportidentity-string-string">exportIdentity</a></td>
<td style="text-align: left">Obtain the credentials associated with a given identity.</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#getallprofiles">getAllProfiles</a></td>
<td style="text-align: left">Retrieve all connection profiles from the profile store being used by this</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#getloglevel">getLogLevel</a></td>
<td style="text-align: left">Get the current logging level of a business network. The connection must</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#getprofile-string">getProfile</a></td>
<td style="text-align: left">Retrieve the specified connection profile from the profile store being</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#importidentity-string-string-string-string">importIdentity</a></td>
<td style="text-align: left">Import an identity into a profiles&#39; wallet. No connection needs to be established</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#install-businessnetworkidentifier-object">install</a></td>
<td style="text-align: left">Installs the Hyperledger Composer runtime to the Hyperledger Fabric in preparation</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#list">list</a></td>
<td style="text-align: left">List all of the deployed business networks. The connection must</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#ping">ping</a></td>
<td style="text-align: left">Test the connection to the runtime and verify that the version of the</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#requestidentity-string-string-string">requestIdentity</a></td>
<td style="text-align: left">Request the certificates for an identity. No connection needs to be established</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#setloglevel-any">setLogLevel</a></td>
<td style="text-align: left">Set the logging level of a business network. The connection must</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#start-businessnetworkdefinition-object">start</a></td>
<td style="text-align: left">Starts a business network within the runtime previously installed to the Hyperledger Fabric with</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#undeploy-string">undeploy</a></td>
<td style="text-align: left">Undeploys a BusinessNetworkDefinition from the Hyperledger Fabric. The business network will no</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#update-businessnetworkdefinition">update</a></td>
<td style="text-align: left">Updates an existing BusinessNetworkDefinition on the Hyperledger Fabric. The BusinessNetworkDefinition</td>
</tr>
<tr>
<td style="text-align: left"><code>Promise</code></td>
<td style="text-align: left"><a href="#upgrade">upgrade</a></td>
<td style="text-align: left">Upgrades an existing business network&#39;s composer runtime to a later level.</td>
</tr>
</tbody></table>

<h2 id="method-details">Method Details</h2>

<h2 id="new-adminconnection">new AdminConnection()</h2>

<p>Create an instance of the AdminConnection class.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>options</strong></td>
<td style="text-align: left"><code>Object</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">an optional set of options to configure the instance.</td>
</tr>
<tr>
<td style="text-align: left"><strong>options.connectionProfileStore</strong></td>
<td style="text-align: left"><code>ConnectionProfileStore</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">specify a connection profile store to use.</td>
</tr>
<tr>
<td style="text-align: left"><strong>options.fs</strong></td>
<td style="text-align: left"><code>Object</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">specify an fs implementation to use.</td>
</tr>
</tbody></table>

<h2 id="connect-string-string-string-string">connect(string,string,string,string)</h2>

<p>Connects and logs in to the Hyperledger Fabric using a named connection
profile. The connection profile must exist in the profile store.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Connect to Hyperledger Fabric</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="nx">adminConnection</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="s1">'testprofile'</span><span class="p">,</span> <span class="s1">'WebAppAdmin'</span><span class="p">,</span> <span class="s1">'DJY27pEnl16d'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Connected.</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that indicates the connection is complete</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>connectionProfile</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The name of the connection profile</td>
</tr>
<tr>
<td style="text-align: left"><strong>enrollmentID</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">the enrollment ID of the user</td>
</tr>
<tr>
<td style="text-align: left"><strong>enrollmentSecret</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">the enrollment secret of the user</td>
</tr>
<tr>
<td style="text-align: left"><strong>businessNetworkIdentifier</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">the id of the network (for update) or null</td>
</tr>
</tbody></table>

<h2 id="createprofile-string-object">createProfile(string,object)</h2>

<p>Stores a connection profile into the profile store being used by this
AdminConnection.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Create a connection profile</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">adminOptions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="s1">'hlf'</span><span class="p">,</span>
    <span class="na">keyValStore</span><span class="p">:</span> <span class="s1">'/tmp/keyValStore'</span><span class="p">,</span>
    <span class="na">membershipServicesURL</span><span class="p">:</span> <span class="s1">'grpc://membersrvc:7054'</span><span class="p">,</span>
    <span class="na">peerURL</span><span class="p">:</span> <span class="s1">'grpc://vp0:7051'</span><span class="p">,</span>
    <span class="na">eventHubURL</span><span class="p">:</span> <span class="s1">'grpc://vp0:7053'</span>
<span class="p">};</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">createProfile</span><span class="p">(</span><span class="s1">'testprofile'</span><span class="p">,</span> <span class="nx">adminOptions</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Created profile</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that indicates that the connection profile is deployed</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>connectionProfile</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The name of the connection profile</td>
</tr>
<tr>
<td style="text-align: left"><strong>data</strong></td>
<td style="text-align: left"><code>Object</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The connection profile data</td>
</tr>
</tbody></table>

<h2 id="deleteprofile-string">deleteProfile(string)</h2>

<p>Deletes the specified connection profile from the profile store being used by this
AdminConnection.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Delete a connection profile</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">deleteProfile</span><span class="p">(</span><span class="s1">'testprofile'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Deleted profile</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that indicates that the connection profile is deployed</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>connectionProfile</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The name of the connection profile</td>
</tr>
</tbody></table>

<h2 id="getprofile-string">getProfile(string)</h2>

<p>Retrieve the specified connection profile from the profile store being
used by this AdminConnection.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Retrieve the connection profile.</span>
<span class="kd">const</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">getProfile</span><span class="p">(</span><span class="s1">'testprofile'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">profile</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Retrieved profile</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">profile</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that is resolved with the connection profile data.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>connectionProfile</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The name of the connection profile</td>
</tr>
</tbody></table>

<h2 id="getallprofiles">getAllProfiles()</h2>

<p>Retrieve all connection profiles from the profile store being used by this
AdminConnection.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Retrieve all the connection profiles.</span>
<span class="kd">const</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">getAllProfiles</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">profiles</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Retrieved profiles</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">profile</span> <span class="k">in</span> <span class="nx">profiles</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">profile</span><span class="p">,</span> <span class="nx">profiles</span><span class="p">[</span><span class="nx">profile</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that is resolved with the connection profile data.</p>

<h3 id="parameters">Parameters</h3>

<p>No parameters</p>

<h2 id="disconnect">disconnect()</h2>

<p>Disconnects this connection.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Disconnect from a Business Network</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Disconnected.</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that will be resolved when the connection is
terminated.</p>

<h3 id="parameters">Parameters</h3>

<p>No parameters</p>

<h2 id="install-businessnetworkidentifier-object">install(businessnetworkidentifier,object)</h2>

<p>Installs the Hyperledger Composer runtime to the Hyperledger Fabric in preparation
for the business network to be started. The connection mustbe connected for this method to succeed.
You must pass the name of the business network that is defined in your archive that this
runtime will be started with.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Install the Hyperledger Composer runtime</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">businessNetworkDefinition</span> <span class="o">=</span> <span class="nx">BusinessNetworkDefinition</span><span class="p">.</span><span class="nx">fromArchive</span><span class="p">(</span><span class="nx">myArchive</span><span class="p">);</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">install</span><span class="p">(</span><span class="nx">businessNetworkDefinition</span><span class="p">.</span><span class="nx">getName</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Business network definition installed</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that will be fufilled when the business network has been
deployed.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>businessNetworkIdentifier</strong></td>
<td style="text-align: left"><code>BusinessNetworkIdentifier</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The name of business network which will be used to start this runtime.</td>
</tr>
<tr>
<td style="text-align: left"><strong>installOptions</strong></td>
<td style="text-align: left"><code>Object</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">connector specific install options</td>
</tr>
</tbody></table>

<h2 id="start-businessnetworkdefinition-object">start(businessnetworkdefinition,object)</h2>

<p>Starts a business network within the runtime previously installed to the Hyperledger Fabric with
the same name as the business network to be started. The connection must be connected for this
method to succeed.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Start a Business Network Definition</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">businessNetworkDefinition</span> <span class="o">=</span> <span class="nx">BusinessNetworkDefinition</span><span class="p">.</span><span class="nx">fromArchive</span><span class="p">(</span><span class="nx">myArchive</span><span class="p">);</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="nx">businessNetworkDefinition</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Business network definition is started</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that will be fufilled when the business network has been
deployed.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>businessNetworkDefinition</strong></td>
<td style="text-align: left"><code>BusinessNetworkDefinition</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The business network to start</td>
</tr>
<tr>
<td style="text-align: left"><strong>startOptions</strong></td>
<td style="text-align: left"><code>Object</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">connector specific start options</td>
</tr>
</tbody></table>

<h2 id="deploy-businessnetworkdefinition-object">deploy(businessnetworkdefinition,object)</h2>

<p>Deploys a new BusinessNetworkDefinition to the Hyperledger Fabric. The connection must
be connected for this method to succeed.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Deploy a Business Network Definition</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">businessNetworkDefinition</span> <span class="o">=</span> <span class="nx">BusinessNetworkDefinition</span><span class="p">.</span><span class="nx">fromArchive</span><span class="p">(</span><span class="nx">myArchive</span><span class="p">);</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">deploy</span><span class="p">(</span><span class="nx">businessNetworkDefinition</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Business network definition deployed</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that will be fufilled when the business network has been
deployed.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>businessNetworkDefinition</strong></td>
<td style="text-align: left"><code>BusinessNetworkDefinition</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The business network to deploy</td>
</tr>
<tr>
<td style="text-align: left"><strong>deployOptions</strong></td>
<td style="text-align: left"><code>Object</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">connector specific deployment options</td>
</tr>
</tbody></table>

<h2 id="undeploy-string">undeploy(string)</h2>

<p>Undeploys a BusinessNetworkDefinition from the Hyperledger Fabric. The business network will no
longer be able to process transactions.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Undeploy a Business Network Definition</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">undeploy</span><span class="p">(</span><span class="s1">'identifier'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Undeployed Business Network Definition</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">})</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that will be fufilled when the business network has been
undeployed.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>businessNetworkIdentifier</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The identifier of the network to undeploy</td>
</tr>
</tbody></table>

<h2 id="update-businessnetworkdefinition">update(businessnetworkdefinition)</h2>

<p>Updates an existing BusinessNetworkDefinition on the Hyperledger Fabric. The BusinessNetworkDefinition
must have been previously deployed.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Updates a Business Network Definition</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">businessNetworkDefinition</span> <span class="o">=</span> <span class="nx">BusinessNetworkDefinition</span><span class="p">.</span><span class="nx">fromArchive</span><span class="p">(</span><span class="nx">myArchive</span><span class="p">);</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">businessNetworkDefinition</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Business network definition updated</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that will be fufilled when the business network has been
updated.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>businessNetworkDefinition</strong></td>
<td style="text-align: left"><code>BusinessNetworkDefinition</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The new BusinessNetworkDefinition</td>
</tr>
</tbody></table>

<h2 id="upgrade">upgrade()</h2>

<p>Upgrades an existing business network&#39;s composer runtime to a later level.
The connection must be connected specifying the business network identifier as part of the
connection for this method to succeed.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Upgrade the Hyperledger Composer runtime</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">businessNetworkDefinition</span> <span class="o">=</span> <span class="nx">BusinessNetworkDefinition</span><span class="p">.</span><span class="nx">fromArchive</span><span class="p">(</span><span class="nx">myArchive</span><span class="p">);</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">connectionProfileName</span><span class="p">,</span> <span class="nx">upgradeId</span><span class="p">,</span> <span class="nx">upgradeSecret</span><span class="p">,</span> <span class="nx">businessNetworkDefinition</span><span class="p">.</span><span class="nx">getName</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">upgrade</span><span class="p">();</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Business network definition upgraded</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that will be fufilled when the composer runtime has been upgraded,
or rejected otherwise.</p>

<h3 id="parameters">Parameters</h3>

<p>No parameters</p>

<h2 id="ping">ping()</h2>

<p>Test the connection to the runtime and verify that the version of the
runtime is compatible with this level of the node.js module.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Test the connection to the runtime</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">ping</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// Connection has been tested</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that will be fufilled when the connection has
been tested. The promise will be rejected if the version is incompatible.</p>

<h3 id="parameters">Parameters</h3>

<p>No parameters</p>

<h2 id="setloglevel-any">setLogLevel(any)</h2>

<p>Set the logging level of a business network. The connection must
be connected for this method to succeed.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Set the logging level of a business network.</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">setLogLevel</span><span class="p">(</span><span class="s1">'DEBUG'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'log level set to DEBUG'</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that resolves if successful.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>newLogLevel</strong></td>
<td style="text-align: left"><code>any</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">new logging level</td>
</tr>
</tbody></table>

<h2 id="getloglevel">getLogLevel()</h2>

<p>Get the current logging level of a business network. The connection must
be connected for this method to succeed.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Get the current logging level of a business network.</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">getLogLevel</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">currentLogLevel</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'current log level is '</span> <span class="o">+</span> <span class="nx">currentLogLevel</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that resolves with the current logging level if successful.</p>

<h3 id="parameters">Parameters</h3>

<p>No parameters</p>

<h2 id="list">list()</h2>

<p>List all of the deployed business networks. The connection must
be connected for this method to succeed.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// List all of the deployed business networks.</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">businessNetworks</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Connection has been tested</span>
    <span class="k">return</span> <span class="nx">businessNetworks</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">businessNetwork</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Deployed business network'</span><span class="p">,</span> <span class="nx">businessNetwork</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise that will be resolved with an array of
business network identifiers, or rejected with an error.</p>

<h3 id="parameters">Parameters</h3>

<p>No parameters</p>

<h2 id="importidentity-string-string-string-string">importIdentity(string,string,string,string)</h2>

<p>Import an identity into a profiles&#39; wallet. No connection needs to be established
for this method to succeed.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Import an identity into a profiles' wallet</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">importIdentity</span><span class="p">(</span><span class="s1">'hlfv1'</span><span class="p">,</span> <span class="s1">'PeerAdmin'</span><span class="p">,</span> <span class="nx">certificate</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Identity imported</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'identity imported successfully'</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise which is resolved when the identity is imported</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>connectionProfile</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">Name of the connection profile</td>
</tr>
<tr>
<td style="text-align: left"><strong>id</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The id to associate with this identity</td>
</tr>
<tr>
<td style="text-align: left"><strong>certificate</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The signer cert in PEM format</td>
</tr>
<tr>
<td style="text-align: left"><strong>privateKey</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The private key in PEM format</td>
</tr>
</tbody></table>

<h2 id="requestidentity-string-string-string">requestIdentity(string,string,string)</h2>

<p>Request the certificates for an identity. No connection needs to be established
for this method to succeed.</p>

<h3 id="example">Example</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Request the cryptographic material for am identity of a hlf v1 environment.</span>
<span class="kd">var</span> <span class="nx">adminConnection</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdminConnection</span><span class="p">();</span>
<span class="k">return</span> <span class="nx">adminConnection</span><span class="p">.</span><span class="nx">requestIdentity</span><span class="p">(</span><span class="s1">'hlfv1'</span><span class="p">,</span> <span class="s1">'admin'</span><span class="p">,</span> <span class="s1">'adminpw'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Identity returned</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'public signing certificate:'</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">certificate</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'private key:'</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">key</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'ca root certificate:'</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">rootCertificate</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
    <span class="c1">// Add optional error handling here.</span>
<span class="p">});</span>
</code></pre></div>
<h3 id="returns">Returns</h3>

<p><code>Promise</code> - A promise which is resolved when the identity is imported</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>connectionProfile</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">Name of the connection profile</td>
</tr>
<tr>
<td style="text-align: left"><strong>enrollmentID</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The ID to enroll</td>
</tr>
<tr>
<td style="text-align: left"><strong>enrollmentSecret</strong></td>
<td style="text-align: left"><code>string</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">The secret for the ID</td>
</tr>
</tbody></table>

<h2 id="exportidentity-string-string">exportIdentity(string,string)</h2>

<p>Obtain the credentials associated with a given identity.</p>

<h3 id="returns">Returns</h3>

<p><code>Promise</code> - Resolves to credentials in the form <em>{ certificate: String, privateKey: String }</em>.</p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Optional</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>connectionProfileName</strong></td>
<td style="text-align: left"><code>String</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">Name of the connection profile.</td>
</tr>
<tr>
<td style="text-align: left"><strong>id</strong></td>
<td style="text-align: left"><code>String</code></td>
<td style="text-align: left">true</td>
<td style="text-align: left">Name of the identity.</td>
</tr>
</tbody></table>

            
          </section>
        </div>
        <!-- Otherwise, have the main content fill all 12 columns... -->
        
      <div class="PageNavigation">
    
    
  </div>
    </article>
</div>
<script>
(function (document) {
    function clipboard_init() {
        var charts = document.querySelectorAll("div.highlight"),
            arr = [],
            i, j, maxItem, pre, btn, el;

        // Make sure we are dealing with an array
        for(i = 0, maxItem = charts.length; i < maxItem; i++) arr.push(charts[i]);

        // Find the UML source element and get the text
        for (i = 0, maxItem = arr.length; i < maxItem; i++) {
            el = arr[i];
            pre = el.childNodes[0];

            pre.id = "hl_code" + i.toString();
            btn = document.createElement('copy-button');
            btn.appendChild(document.createTextNode('Copy'));
            btn.setAttribute("class", "copy-btn");
            btn.setAttribute("data-clipboard-target", "#hl_code" + i.toString());
            el.insertBefore(btn, pre);
        }
        new Clipboard('.copy-btn');
    };

    function onReady(fn) {
        if (document.addEventListener) {
            document.addEventListener('DOMContentLoaded', fn);
        } else {
            document.attachEvent('onreadystatechange', function() {
                if (document.readyState === 'interactive')
                    fn();
            });
        }
    }

    onReady(function(){
        clipboard_init();
    });
})(document);
</script>
<script src="/composer/unstable/assets/js/nav.js"></script>
<script src="/composer/unstable/assets/js/search_bar.js"></script>

    

    


  </div>
</body>
</html>
